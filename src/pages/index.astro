---
import Layout from '../layouts/Layout.astro';
import ExternalLink from '../components/ExternalLink.astro';
import Icon from '../components/Icon.astro';
import home from '../data/home.json';
import site from '../data/site.json';
import heroSlides from '../data/hero-slides.json';
import HeroSlideshow from '../components/HeroSlideshow.astro';
import StudentRegistrationButton from '../components/StudentRegistrationButton.astro';
import { siteConfig } from '../config/siteConfig';
---

<Layout title="Home" description="Welcome to Auburn Montessori School - The Children's House. A Montessori community serving Preschool and Elementary (K–3rd Grade) families in Auburn, Alabama.">
	<section class="hero-band" aria-label="Welcome">
		<div class="container-page">
			<div class="grid gap-8 lg:grid-cols-2 lg:items-center lg:gap-12">
				<div class="order-2 lg:order-1">
					<h1>Welcome to Auburn Montessori School</h1>
					<p class="hero-lead">
						We are so glad you are here. From Preschool through Elementary, our classrooms are designed to help children grow with confidence, curiosity, and joy.
					</p>
					<div class="mt-6 flex flex-wrap gap-3">
						<a class="btn btn-outline btn-lg" style="border-color: rgba(255,255,255,0.4); color: white; background: transparent;" href="/schedule-a-tour">Schedule a Tour &amp; Register</a>
						<ExternalLink href={siteConfig.brightwheel.parentSignInUrl} opensIn="Brightwheel" class="btn btn-outline btn-lg" style="border-color: rgba(255,255,255,0.4); color: white; background: transparent;" ariaLabel="Parent Sign-In (opens in Brightwheel)">
							Parent Sign-In (Brightwheel)
						</ExternalLink>
						<StudentRegistrationButton buttonClass="btn btn-primary btn-lg" helperClass="text-xs text-white/90" />
					</div>
				</div>
				<div class="order-1 lg:order-2">
					<HeroSlideshow id="welcome-hero-slideshow" label="Welcome photos from Auburn Montessori School" slides={heroSlides.slides} />
				</div>
			</div>
		</div>
	</section>

	<!-- Trust bar -->
	<div class="border-b" style="background: var(--color-surface-alt); border-color: var(--color-border);">
		<div class="container-page flex flex-wrap items-center justify-center gap-x-6 gap-y-2 py-3 text-sm" style="color: var(--color-text-muted);">
			<a class="flex items-center gap-1.5 no-underline hover:underline" style="color: var(--color-text-muted);" href="/contact">
				<Icon name="location" size={18} class="inline-flex" /> {site.address.street}, {site.address.city}, {site.address.state}
			</a>
			<a class="flex items-center gap-1.5 no-underline hover:underline" style="color: var(--color-text-muted);" href={`tel:${site.phone}`}>
				<Icon name="phone" size={18} class="inline-flex" /> {site.phone}
			</a>
			<span class="flex items-center gap-1.5">
				<Icon name="people" size={18} class="inline-flex" /> Preschool 3–6 · Elementary K–3rd Grade
			</span>
			<span class="badge badge-brand">Quality STARS 5-STAR</span>
		</div>
	</div>

	<!-- Quick links card grid -->
	<div class="section-band">
		<div class="container-page">
			<div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-5">
				<a href="/documents" class="card card-body flex flex-col items-start gap-2 no-underline transition-shadow hover:shadow-md">
					<div class="feature-icon"><Icon name="document" size={22} /></div>
					<h2 class="text-sm font-bold" style="color: var(--color-text);">Parent Handbook</h2>
					<p class="text-xs" style="color: var(--color-text-subtle);">View local PDFs and Brightwheel document updates</p>
				</a>
				<a href="/calendar" class="card card-body flex flex-col items-start gap-2 no-underline transition-shadow hover:shadow-md">
					<div class="feature-icon"><Icon name="calendar" size={22} /></div>
					<h2 class="text-sm font-bold" style="color: var(--color-text);">Calendar</h2>
					<p class="text-xs" style="color: var(--color-text-subtle);">Key dates, closures, and events</p>
				</a>
				<a href="/fees-hours" class="card card-body flex flex-col items-start gap-2 no-underline transition-shadow hover:shadow-md">
					<div class="feature-icon"><Icon name="fees" size={22} /></div>
					<h2 class="text-sm font-bold" style="color: var(--color-text);">Fees &amp; Hours</h2>
					<p class="text-xs" style="color: var(--color-text-subtle);">Tuition, schedules, and policies</p>
				</a>
				<a href="/programs" class="card card-body flex flex-col items-start gap-2 no-underline transition-shadow hover:shadow-md">
					<div class="feature-icon"><Icon name="people" size={22} /></div>
					<h2 class="text-sm font-bold" style="color: var(--color-text);">Programs</h2>
					<p class="text-xs" style="color: var(--color-text-subtle);">Preschool (3–6) and Elementary (K–3rd Grade)</p>
				</a>
				<ExternalLink href={siteConfig.brightwheel.parentSignInUrl} opensIn="Brightwheel" class="card card-body flex flex-col items-start gap-2 no-underline transition-shadow hover:shadow-md" style="background: var(--color-primary-light); border-color: rgba(30,58,95,0.15);" ariaLabel="Parent Sign-In (opens in Brightwheel)">
					<div class="feature-icon" style="background: var(--color-primary); color: white;"><Icon name="edit" size={22} /></div>
					<h2 class="text-sm font-bold" style="color: var(--color-primary);">Parent Sign-In</h2>
					<p class="text-xs" style="color: var(--color-text-subtle);">Parent onboarding in Brightwheel</p>
				</ExternalLink>
			</div>
		</div>
	</div>

	<!-- Philosophy / Mission / Vision -->
	<div class="section-band-alt">
		<div class="container-page">
			<h2 class="section-heading text-center">Our Foundation</h2>
			<p class="section-subheading mx-auto text-center">The guiding principles that shape our Montessori community</p>

			<div class="mt-8 grid gap-6 lg:grid-cols-3">
				<div class="card card-body">
					<div class="badge badge-brand mb-3">Philosophy</div>
					<p class="text-sm leading-relaxed" style="color: var(--color-neutral-700);">{home.philosophy}</p>
					<p class="mt-4">
						<a class="text-sm font-semibold no-underline hover:underline" href="/about">Read more →</a>
					</p>
				</div>

				<div class="card card-body">
					<div class="badge badge-brand mb-3">Mission</div>
					<ul class="space-y-2 text-sm leading-relaxed" style="color: var(--color-neutral-700);">
						{home.missions.map((m) => (
							<li class="flex gap-2">
								<span class="shrink-0 mt-1" style="color: var(--color-primary);">•</span>
								<span>{m}</span>
							</li>
						))}
					</ul>
				</div>

				<div class="card card-body">
					<div class="badge badge-brand mb-3">Vision</div>
					<p class="text-sm leading-relaxed" style="color: var(--color-neutral-700);">{home.vision}</p>
				</div>
			</div>
		</div>
	</div>

	<!-- CTA band -->
	<div class="section-band">
		<div class="container-page">
			<div class="cta-panel text-center" style="padding: var(--space-10);">
				<h2 class="text-xl font-bold">Ready to join our community?</h2>
				<p class="mx-auto mt-2 max-w-md text-sm" style="color: rgba(255,255,255,0.9);">
					Schedule a tour, explore admissions, and complete student registration in Brightwheel.
				</p>
				<div class="mt-6 flex flex-wrap justify-center gap-3">
					<a class="btn btn-primary btn-lg" href="/schedule-a-tour">Schedule a Tour &amp; Register</a>
					<a class="btn btn-outline btn-lg" style="border-color: rgba(255,255,255,0.4); color: white; background: transparent;" href="/admissions">Admissions Process</a>
				</div>
			</div>
		</div>
	</div>
</Layout>
