---
import Layout from '../layouts/Layout.astro';
import ExternalLink from '../components/ExternalLink.astro';
import Icon from '../components/Icon.astro';
import home from '../data/home.json';
import site from '../data/site.json';
import carousel from '../data/carousel.json';

const heroImage = carousel.slides[0] ?? { src: '/images/carousel/slide-1.webp', alt: 'Auburn Montessori School' };
---

<Layout title="Home" description="Welcome to Auburn Montessori School - The Children's House. A Montessori community serving children ages 3–6 in Auburn, Alabama.">
	<!-- Hero: one strong image, headline, supporting line, primary + secondary CTA -->
	<section class="hero-band" aria-label="Welcome">
		<div class="container-page">
			<div class="grid gap-8 lg:grid-cols-2 lg:items-center lg:gap-12">
				<div class="order-2 lg:order-1">
					<h1>{home.heroTitle}</h1>
					<p class="hero-lead">
						A Montessori community nurturing the love of learning for children ages 3–6 in Auburn, Alabama.
					</p>
					<div class="mt-6 flex flex-wrap gap-3">
						<a class="btn btn-primary btn-lg" href="/contact#tour-request-form">Schedule a Tour</a>
						<ExternalLink href={site.registrationUrl} opensIn="Brightwheel" class="btn btn-outline btn-lg" style="border-color: rgba(255,255,255,0.4); color: white; background: transparent;" ariaLabel="Register (opens in Brightwheel)">
							Register
						</ExternalLink>
					</div>
				</div>
				<div class="order-1 lg:order-2 media-frame ratio-3x2 lg:min-h-0">
					<img
						src={heroImage.src}
						alt={heroImage.alt}
						width="800"
						height="533"
						class="h-full w-full object-cover"
						fetchpriority="high"
					/>
				</div>
			</div>
		</div>
	</section>

	<!-- Trust bar -->
	<div class="border-b" style="background: var(--color-surface-alt); border-color: var(--color-border);">
		<div class="container-page flex flex-wrap items-center justify-center gap-x-6 gap-y-2 py-3 text-sm" style="color: var(--color-text-muted);">
			<a class="flex items-center gap-1.5 no-underline hover:underline" style="color: var(--color-text-muted);" href="/contact">
				<Icon name="location" size={18} class="inline-flex" /> {site.address.street}, {site.address.city}, {site.address.state}
			</a>
			<a class="flex items-center gap-1.5 no-underline hover:underline" style="color: var(--color-text-muted);" href={`tel:${site.phone}`}>
				<Icon name="phone" size={18} class="inline-flex" /> {site.phone}
			</a>
			<span class="flex items-center gap-1.5">
				<Icon name="people" size={18} class="inline-flex" /> Ages 3–6
			</span>
			<span class="badge badge-brand">Quality STARS 5-STAR</span>
		</div>
	</div>

	<!-- Quick links card grid -->
	<div class="section-band">
		<div class="container-page">
			<div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-5">
				<a href="/parent-resources" class="card card-body flex flex-col items-start gap-2 no-underline transition-shadow hover:shadow-md">
					<div class="feature-icon"><Icon name="document" size={22} /></div>
					<h2 class="text-sm font-bold" style="color: var(--color-text);">Parent Handbook</h2>
					<p class="text-xs" style="color: var(--color-text-subtle);">View or download the full handbook</p>
				</a>
				<a href="/calendar" class="card card-body flex flex-col items-start gap-2 no-underline transition-shadow hover:shadow-md">
					<div class="feature-icon"><Icon name="calendar" size={22} /></div>
					<h2 class="text-sm font-bold" style="color: var(--color-text);">Calendar</h2>
					<p class="text-xs" style="color: var(--color-text-subtle);">Key dates, closures, and events</p>
				</a>
				<a href="/fees-hours" class="card card-body flex flex-col items-start gap-2 no-underline transition-shadow hover:shadow-md">
					<div class="feature-icon"><Icon name="fees" size={22} /></div>
					<h2 class="text-sm font-bold" style="color: var(--color-text);">Fees &amp; Hours</h2>
					<p class="text-xs" style="color: var(--color-text-subtle);">Tuition, schedules, and policies</p>
				</a>
				<a href="/educators" class="card card-body flex flex-col items-start gap-2 no-underline transition-shadow hover:shadow-md">
					<div class="feature-icon"><Icon name="people" size={22} /></div>
					<h2 class="text-sm font-bold" style="color: var(--color-text);">Educators</h2>
					<p class="text-xs" style="color: var(--color-text-subtle);">Meet our experienced team</p>
				</a>
				<ExternalLink href={site.registrationUrl} opensIn="Brightwheel" class="card card-body flex flex-col items-start gap-2 no-underline transition-shadow hover:shadow-md" style="background: var(--color-primary-light); border-color: rgba(30,58,95,0.15);" ariaLabel="Register (opens in Brightwheel)">
					<div class="feature-icon" style="background: var(--color-primary); color: white;"><Icon name="edit" size={22} /></div>
					<h2 class="text-sm font-bold" style="color: var(--color-primary);">Register</h2>
					<p class="text-xs" style="color: var(--color-text-subtle);">Opens in Brightwheel</p>
				</ExternalLink>
			</div>
		</div>
	</div>

	<!-- Philosophy / Mission / Vision -->
	<div class="section-band-alt">
		<div class="container-page">
			<h2 class="section-heading text-center">Our Foundation</h2>
			<p class="section-subheading mx-auto text-center">The guiding principles that shape our Montessori community</p>

			<div class="mt-8 grid gap-6 lg:grid-cols-3">
				<div class="card card-body">
					<div class="badge badge-brand mb-3">Philosophy</div>
					<p class="text-sm leading-relaxed" style="color: var(--color-neutral-700);">{home.philosophy}</p>
					<p class="mt-4">
						<a class="text-sm font-semibold no-underline hover:underline" href="/about">Read more →</a>
					</p>
				</div>

				<div class="card card-body">
					<div class="badge badge-brand mb-3">Mission</div>
					<ul class="space-y-2 text-sm leading-relaxed" style="color: var(--color-neutral-700);">
						{home.missions.map((m) => (
							<li class="flex gap-2">
								<span class="shrink-0 mt-1" style="color: var(--color-primary);">•</span>
								<span>{m}</span>
							</li>
						))}
					</ul>
				</div>

				<div class="card card-body">
					<div class="badge badge-brand mb-3">Vision</div>
					<p class="text-sm leading-relaxed" style="color: var(--color-neutral-700);">{home.vision}</p>
				</div>
			</div>
		</div>
	</div>

	<!-- CTA band -->
	<div class="section-band">
		<div class="container-page">
			<div class="cta-panel text-center" style="padding: var(--space-10);">
				<h2 class="text-xl font-bold">Ready to join our community?</h2>
				<p class="mx-auto mt-2 max-w-md text-sm" style="color: rgba(255,255,255,0.9);">
					Schedule a tour, learn about our admissions process, or register today.
				</p>
				<div class="mt-6 flex flex-wrap justify-center gap-3">
					<a class="btn btn-primary btn-lg" href="/contact#tour-request-form">Schedule a Tour</a>
					<a class="btn btn-outline btn-lg" style="border-color: rgba(255,255,255,0.4); color: white; background: transparent;" href="/admissions">Admissions Process</a>
				</div>
			</div>
		</div>
	</div>
</Layout>
