---
import Layout from '../layouts/Layout.astro';
import site from '../data/site.json';

const addressLine = `${site.address.street} ${site.address.city}, ${site.address.state} ${site.address.postalCode}`;
const mapUrl = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(addressLine)}`;

const tourSubject = encodeURIComponent('Request a tour - Auburn Montessori School');
const tourBody = encodeURIComponent(
  'Hello,\n\nI would like to schedule a tour of Auburn Montessori School - The Children\'s House.\n\nPreferred date/time (if any):\n\nMy name:\n\nChild\'s name and age:\n\nPhone:\n\nThank you.'
);
const tourMailto = `mailto:${site.email}?subject=${tourSubject}&body=${tourBody}`;
---

<Layout
  title="Contact"
  description="Contact Auburn Montessori School - The Children's House (address, phone, email)."
>
  <header class="space-y-3">
    <h1 class="text-3xl font-extrabold tracking-tight text-slate-900">Contact</h1>
    <p class="max-w-4xl text-base leading-relaxed text-slate-700">
      Get in touch with Auburn Montessori School - The Children's House.
    </p>
  </header>

  <section class="mt-10 grid gap-6 lg:grid-cols-2">
    <section class="card p-6">
      <h2 class="text-lg font-bold text-slate-900">School information</h2>
      <dl class="mt-4 grid gap-3 text-sm text-slate-700">
        <div>
          <dt class="font-semibold text-slate-900">Address</dt>
          <dd class="mt-1">
            {site.address.street}<br />
            {site.address.city}, {site.address.state} {site.address.postalCode}<br />
            <a class="font-semibold no-underline text-blue-800 hover:text-blue-900" href={mapUrl} target="_blank" rel="noopener noreferrer">
              Open in maps (opens in a new tab)
            </a>
          </dd>
        </div>
        <div>
          <dt class="font-semibold text-slate-900">Phone</dt>
          <dd class="mt-1">
            <a class="font-semibold no-underline text-blue-800 hover:text-blue-900" href={`tel:${site.phone}`}>{site.phone}</a>
          </dd>
        </div>
        <div>
          <dt class="font-semibold text-slate-900">Email</dt>
          <dd class="mt-1">
            <a class="font-semibold no-underline text-blue-800 hover:text-blue-900" href={`mailto:${site.email}`}>{site.email}</a>
          </dd>
        </div>
        <div>
          <dt class="font-semibold text-slate-900">Office hours</dt>
          <dd class="mt-1 text-slate-700">
            Program hours vary by program (Part Time, Full Time, K–3rd). See <a class="font-semibold no-underline text-blue-800 hover:text-blue-900" href="/fees-hours">Fees &amp; Hours</a> for schedule and pickup times.
          </dd>
        </div>
      </dl>
      <p class="mt-4 text-sm text-slate-700">
        <a class="font-semibold no-underline text-blue-800 hover:text-blue-900" href={tourMailto}>Request a tour</a> — opens your email with a pre-filled message.
      </p>
      <p class="mt-5 text-xs text-slate-600">
        This website does not accept form submissions. Please contact us by phone or email.
      </p>
    </section>

    <section class="card p-6">
      <h2 class="text-lg font-bold text-slate-900">New parent registration</h2>
      <p class="mt-3 text-sm leading-relaxed text-slate-700">
        <a
          class="btn btn-primary"
          href={site.registrationUrl}
          target="_blank"
          rel="noopener noreferrer"
          aria-label="New Parent Registration (opens in a new tab)"
        >
          New Parent Registration (Brightwheel)
        </a>
      </p>
      <p class="mt-3 text-sm leading-relaxed text-slate-700">
        Registration opens in a new tab and is handled through Brightwheel (a third-party service).
      </p>
    </section>
  </section>
</Layout>

