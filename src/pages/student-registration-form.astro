---
import Layout from '../layouts/Layout.astro';
import site from '../data/site.json';
import fees from '../data/fees-hours.json';
import ExternalLink from '../components/ExternalLink.astro';
import Icon from '../components/Icon.astro';
---

<Layout
  title="Student Registration"
  description="Complete student registration for Auburn Montessori School - The Children's House via Brightwheel."
  heroTitle="Student Registration"
  heroLead="Complete registration securely in Brightwheel. We do not collect full registration or payment details on this website."
>
  <div class="section-band">
    <div class="container-page">
      <div class="callout callout-info">
        <div class="callout-title">Secure registration</div>
        <div class="callout-body">
          Student registration and related forms are handled through Brightwheel. Your information is submitted there with encrypted transport and controlled storage. We do not ask you to send registration details by email.
        </div>
      </div>

      <div class="mt-6 grid gap-6 lg:grid-cols-3">
        <div class="lg:col-span-2 space-y-6">
          <div class="card card-body">
            <h2 class="text-sm font-bold" style="color: var(--color-neutral-900);">Programs at a glance</h2>
            <p class="mt-1 text-xs" style="color: var(--color-neutral-600);">See <a class="font-semibold" href="/fees-hours">Fees &amp; Hours</a> for full details.</p>
            <div class="mt-4 grid gap-4 sm:grid-cols-3">
              {fees.programs.map((p) => (
                <div class="rounded-lg border p-4" style="border-color: var(--color-border);">
                  <div class="text-xs font-semibold uppercase tracking-wider" style="color: var(--color-neutral-500);">{p.name}</div>
                  <p class="mt-1 text-sm font-semibold" style="color: var(--color-text);">{p.hours}</p>
                  <p class="mt-0.5 text-xs" style="color: var(--color-text-muted);">${p.monthlyTuition}/mo Â· Enrollment ${p.annualEnrollmentFee}</p>
                </div>
              ))}
            </div>
          </div>

          <div class="flex flex-wrap items-center gap-4">
            <ExternalLink href={site.registrationUrl} opensIn="Brightwheel" class="btn btn-primary btn-lg btn-icon" ariaLabel="Complete registration in Brightwheel (opens in new tab)">
              <Icon name="external" size={20} /> Register in Brightwheel
            </ExternalLink>
            <a href="/fees-hours" class="btn btn-outline btn-lg">Fees &amp; Hours</a>
          </div>
        </div>

        <aside class="space-y-5">
          <div class="card card-body">
            <h2 class="text-sm font-bold" style="color: var(--color-neutral-900);">Need help?</h2>
            <p class="mt-2 text-sm" style="color: var(--color-neutral-600);">
              Call or text <a class="font-semibold" href={`tel:${site.phone}`}>{site.phone}</a> or email
              <a class="font-semibold" href={`mailto:${site.email}`}>{site.email}</a>.
            </p>
          </div>

          <div class="card card-body">
            <h2 class="text-sm font-bold" style="color: var(--color-neutral-900);">Brightwheel</h2>
            <p class="mt-2 text-sm" style="color: var(--color-neutral-600);">
              Registration, forms, and some payment options use Brightwheel. You will complete intake and submit information there.
            </p>
            <ExternalLink href={site.registrationUrl} opensIn="Brightwheel" class="btn btn-outline btn-sm btn-icon mt-3" ariaLabel="Open Brightwheel (opens in new tab)">
              Open Brightwheel
            </ExternalLink>
          </div>
        </aside>
      </div>
    </div>
  </div>
</Layout>
