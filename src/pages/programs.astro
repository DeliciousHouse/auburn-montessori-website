---
import Layout from '../layouts/Layout.astro';
import programsData from '../data/programs.json';
import StudentRegistrationButton from '../components/StudentRegistrationButton.astro';

const programs = programsData.programs ?? [];
---

<Layout
  title="Programs"
  description="Explore our Preschool (ages 3–6) and Elementary (K–3rd Grade) Montessori programs."
  heroTitle="Programs"
  heroLead="A Montessori journey from Preschool through Elementary (K–3rd Grade)."
>
  <div class="section-band">
    <div class="container-page space-y-8">
      {programs.map((program) => (
        <section class="card card-body">
          <div class="flex flex-wrap items-start justify-between gap-3">
            <div>
              <h2 class="section-heading">{program.title}</h2>
              <p class="mt-1 text-sm font-semibold" style="color: var(--color-primary);">{program.agesOrGrades}</p>
            </div>
            <span class="badge badge-brand">Montessori Program</span>
          </div>

          <p class="mt-4 text-sm leading-relaxed" style="color: var(--color-neutral-700);">
            {program.description}
          </p>

          <div class="mt-5 grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
            {program.images.map((image) => (
              <figure class="media-frame ratio-4x3 border" style="border-color: var(--color-border);">
                <img src={image.src} alt={image.alt} loading="lazy" decoding="async" />
              </figure>
            ))}
          </div>
        </section>
      ))}
    </div>
  </div>

  <div class="section-band-alt">
    <div class="container-page">
      <div class="cta-panel">
        <h2 class="text-xl font-bold">Interested in Preschool or Elementary?</h2>
        <p class="mt-2 text-sm" style="color: rgba(255,255,255,0.9);">
          Schedule a tour to see classrooms in action, then complete student registration in Brightwheel.
        </p>
        <div class="mt-5 flex flex-wrap gap-3">
          <a class="btn btn-outline btn-lg" style="border-color: rgba(255,255,255,0.4); color: white; background: transparent;" href="/schedule-a-tour">
            Schedule a Tour &amp; Register
          </a>
          <StudentRegistrationButton buttonClass="btn btn-primary btn-lg" helperClass="text-xs text-white/90" />
        </div>
      </div>
    </div>
  </div>
</Layout>
